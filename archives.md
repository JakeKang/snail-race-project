# 🤖 Gemini 2.5 Pro와 함께한 풀스택 프로젝트 개발기

## 1. 개요: 인간 주도-AI 지원 방식의 개발 프로젝트

이 프로젝트는 "달팽이 경마 사이트를 만들어줘"라는 한 문장의 아이디어를, 실제 서비스 운영까지 고려한 풀스택 멀티플레이어 웹 애플리케이션으로 완성시킨 개발 기록입니다.

본 프로젝트는 **개발자가 프로젝트의 총괄 디렉터(Director) 역할을 수행**하고, **Gemini 2.5 Pro가 기술 구현을 담당하는 파트너**로서 참여하는 협업 모델을 통해 진행되었습니다.

---

## 2. 페르소나 설정 및 추가 옵션

프로젝트의 방향성을 명확히 하고 일관된 결과물을 얻기 위해, 프로젝트 리더(사용자)는 개발 파트너(Gemini)에게 다음과 같은 페르소나와 작업 가이드라인을 부여했습니다.

#### **기본 페르소나 설정**

1.  **근거 기반 답변**: 불확실한 정보는 생성하지 않는다.
2.  **단계별 검증**: 답변 전 정보를 검증한다.
3.  **정확성**: 확실한 정보만을 사용하여 상세하게 답변한다.
4.  **능동적 질문**: 문의가 모호하면 추가 정보를 요청한다.
5.  **단정 지양**: 확인되지 않은 사실을 단정하지 않는다.
6.  **출처 명시**: 가능한 경우 출처나 참고 자료를 요약한다.
7.  **코드 범위 준수**: 요청한 코드의 범위를 벗어나지 않는다.

#### **추천하는 추가 페르소나 옵션**

향후 유사한 프로젝트 진행 시, AI 어시스턴트에게 다음과 같은 역할을 추가로 부여하면 더 높은 품질의 결과물을 얻을 수 있습니다.

- **`TDD(테스트 주도 개발) 모드`**: 기능 구현 요청 시, 해당 기능에 대한 테스트 코드를 먼저 작성하고 이를 통과하는 코드를 작성하도록 요구하여 코드의 안정성을 초기부터 확보하는 방식.
- **`보안 우선 모드`**: 코드 작성 시 발생할 수 있는 잠재적 보안 취약점(XSS, SQL Injection 등)을 우선적으로 검토하고 방어 코드를 포함하도록 요구하는 방식.
- **`최적화 우선 모드`**: 메모리 사용량, 알고리즘 효율성, 렌더링 속도 등을 고려하여 항상 최적화된 코드를 제안하도록 요구하는 방식.

---

## 3. 개발과정 및 질문 흐름

프로젝트는 리더의 명확한 지시에 따라 점진적으로 발전했습니다.

1.  **요구사항**: "달팽이 경마 사이트를 만들어줘"
    - **결과**: 기본 기능(경주, 베팅)을 포함한 단일 게임 프로토타입 전체 코드 구현.
2.  **요구사항**: 버그 수정, UI 개선, 카운트다운, 채팅 등 7가지 세부 기능 고도화 지시.
    - **결과**: 모든 요구사항을 반영하고 상세 설명이 포함된 v2 코드 제공.
3.  **요구사항**: "기발한 아이디어를 제시해줘"
    - **결과**: '달팽이 특성/날씨', '동적 배당률', '돌발 이벤트' 3가지 핵심 아이디어 제안 및 채택 후 전체 기능 구현.
4.  **요구사항**: 확장성을 고려한 "로비 시스템 추가" 지시.
    - **결과**: 단일 게임 구조를 멀티 룸 아키텍처로 재설계하고, 로비 시스템이 적용된 전체 코드 제공.
5.  **요구사항**: 코드 품질 향상을 위한 "기능 모듈화" 지시.
    - **결과**: 서버와 클라이언트 코드를 기능별 모듈로 분리하고 상세 주석이 포함된 리팩토링 완료.
6.  **요구사항**: 서비스 안정성을 위한 "무중단 운영" 기능 추가 지시.
    - **결과**: PM2 도입을 제안하고, 전역 에러 처리가 포함된 최종 운영 코드 제공.

---

## 4. 협업 모델 및 각자의 역할

본 프로젝트는 인간과 AI의 강점을 극대화한 협업 모델의 성공 사례입니다. 각자의 역할은 다음과 같습니다.

### **👤 인간 개발자 (Project Lead & Director)**

- **`비전 제시 및 총괄 기획`**: "달팽이 경마"라는 초기 아이디어를 제시하고, 프로젝트가 나아갈 방향과 최종 목표를 설정했습니다.
- **`핵심 의사결정`**: 각 개발 단계에서 어떤 기능을 추가하고 개선할지, AI가 제안한 아이디어 중 무엇을 채택할지 등 프로젝트의 중요한 결정을 내렸습니다.
- **`품질 관리(QA) 및 피드백`**: 구현된 프로토타입을 직접 테스트하며 버그를 찾아내고, 사용자 경험(UX) 관점에서 UI 개선 방향 등 구체적이고 날카로운 피드백을 제공했습니다.
- **`프로젝트 관리`**: 단순 기능 구현을 넘어, 코드의 구조(모듈화), 안정성(무중단 운영)까지 고려하며 프로젝트의 전체적인 품질과 방향성을 주도했습니다.

### **🤖 AI 어시스턴트 (Technical Partner & Accelerator)**

- **`기술 설계 및 구현`**: 리더의 비전과 요구사항을 실제 작동하는 코드로 신속하게 구현하는 기술적인 역할을 담당했습니다.
- **`아이디어 발상 지원`**: 창의적인 기능 확장이 필요할 때, 다양한 아이디어 옵션을 제시하여 리더의 의사결정을 도왔습니다.
- **`디버깅 및 문제 해결`**: 복잡한 에러(순환 참조, 모듈 시스템 충돌 등) 발생 시, 원인을 분석하고 명확한 해결책을 코드와 함께 제시했습니다.
- **`개발 속도 가속화`**: 코드 작성, 리팩토링 등 시간이 많이 소요되는 작업을 빠르게 처리하여 개발자가 더 중요한 기획과 의사결정에 집중할 수 있도록 지원했습니다.

---

## 5. 진행 중 발생했던 주요 문제들

- **`순환 참조 에러`**: `setInterval`이 반환하는 서버 객체를 클라이언트에 그대로 전송하려다 `Maximum call stack size exceeded` 에러 발생. -> 필요한 데이터만 정제하여 보내는 방식으로 해결.
- **`모듈 시스템 충돌`**: `package.json`에 `"type": "module"`을 추가하며 ES 모듈(ESM)로 전환하는 과정에서, 기존 CommonJS(`require`) 방식과 충돌하여 `ERR_MODULE_NOT_FOUND` 등 다양한 에러 발생. -> 서버/클라이언트의 모든 모듈 시스템을 ESM(`import/export`)으로 통일하여 해결.
- **`UI 상태 잠김(State Locking)`**: 경주 종료 후 다음 경주 정보로 UI가 업데이트되지 않고 멈추는 문제 발생. -> 비동기 이벤트 흐름을 재검토하고, UI 상태를 변경하는 함수들의 역할을 명확히 분리하여 해결.
- **`브라우저 캐시 문제`**: 수정한 클라이언트 코드가 새로고침해도 적용되지 않는 문제 발생. -> 강력 새로고침, 개발자 도구 캐시 비활성화로 해결.

---

## 6. 결론: 개발자 관점에서의 AI 협업

이번 프로젝트를 통해 AI 어시스턴트는 개발자의 생산성을 극적으로 향상시키는 강력한 파트너임이 증명되었습니다. 특히 반복적인 코드 작성, 복잡한 로직의 초기 구현, 리팩토링 등에서 엄청난 시간을 절약할 수 있었습니다.

하지만, **모든 작업을 100% AI에게 맡길 수는 없다는 점** 또한 명확해졌습니다.

AI는 주어진 **'방법(How)'**을 완벽하게 수행하지만, 프로젝트를 이끄는 **'이유(Why)'**와 **'목표(What)'**는 여전히 인간 개발자의 몫입니다. 완성된 기능을 직접 사용해보며 "뭔가 어색한데?"라고 느끼는 **사용자 경험에 대한 직관**, 여러 기능이 복합적으로 얽혔을 때 발생할 수 있는 문제를 예측하는 **시스템 전체에 대한 통찰력**, 그리고 무엇보다 이 프로젝트를 통해 무엇을 만들고 싶은지에 대한 **최초의 비전**은 AI가 대체할 수 없는 핵심적인 영역입니다.

결론적으로, 성공적인 AI 협업은 AI에게 모든 것을 맡기는 것이 아니라, **개발자가 더 훌륭한 '선장'이 되어 AI라는 최고의 '항해사'에게 명확한 목적지와 항로를 지시하는 것**에 달려있습니다.
